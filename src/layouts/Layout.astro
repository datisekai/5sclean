---
import Logo from '../components/Logo.astro';
import '../styles/global.css';
export interface Props {
  title: string;
  description?: string;
  image?: string;
  canonical?: string;
}

const { 
  title, 
  description = "5S Clean - Dịch vụ vệ sinh công nghiệp chuyên nghiệp tại Rạch Giá, Kiên Giang. Chuyên cung cấp dịch vụ vệ sinh văn phòng, nhà xưởng, khách sạn, trường học với đội ngũ nhân viên chuyên nghiệp và thiết bị hiện đại.",
  image = "/logo.webp",
  canonical = Astro.url.href

} = Astro.props;

const siteName = "5S Clean";
const fullTitle = `${title} | ${siteName}`;
---

<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- SEO Meta Tags -->
    <title>{fullTitle}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content="vệ sinh công nghiệp Rạch Giá, dịch vụ vệ sinh văn phòng, vệ sinh nhà xưởng, vệ sinh khách sạn, vệ sinh trường học, tạp vụ định kỳ, tổng vệ sinh, giặt thảm sofa, vệ sinh công nghiệp Kiên Giang, 5S Clean, dịch vụ vệ sinh chuyên nghiệp, vệ sinh công nghiệp uy tín" />
    <meta name="author" content="5S Clean" />
    <meta name="robots" content="index, follow" />
    <meta name="geo.region" content="VN-47" />
    <meta name="geo.placename" content="Rạch Giá, Kiên Giang" />
    <meta name="geo.position" content="10.0124;105.0919" />
    <meta name="ICBM" content="10.0124, 105.0919" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://5sclean.vercel.app/" />
    <meta property="og:title" content={fullTitle} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content="https://5sclean.vercel.app/logo.webp" />
    <meta property="og:site_name" content={siteName} />
    <meta property="og:locale" content="vi_VN" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="5S Clean - Dịch vụ vệ sinh công nghiệp Rạch Giá" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://5sclean.vercel.app/" />
    <meta property="twitter:title" content={fullTitle} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content="https://5sclean.vercel.app/logo.webp" />
    <meta property="twitter:image:alt" content="5S Clean - Dịch vụ vệ sinh công nghiệp Rạch Giá" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://5sclean.vercel.app/" />
    
    <!-- Additional SEO Tags -->
    <meta name="language" content="Vietnamese" />
    <meta name="distribution" content="global" />
    <meta name="rating" content="general" />
    <meta name="revisit-after" content="7 days" />
    <meta name="googlebot" content="index, follow" />
    <meta name="bingbot" content="index, follow" />
    
    <!-- Local Business Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "5S Clean",
      "description": "Dịch vụ vệ sinh công nghiệp chuyên nghiệp tại Rạch Giá, Kiên Giang",
      "url": "https://5sclean.vercel.app/",
      "telephone": "+84-123-456-789",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "123 Đường ABC",
        "addressLocality": "Rạch Giá",
        "addressRegion": "Kiên Giang",
        "addressCountry": "VN"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 10.0124,
        "longitude": 105.0919
      },
      "openingHours": "Mo-Su 07:00-18:00",
      "priceRange": "$$",
      "serviceArea": {
        "@type": "GeoCircle",
        "geoMidpoint": {
          "@type": "GeoCoordinates",
          "latitude": 10.0124,
          "longitude": 105.0919
        },
        "geoRadius": "50000"
      },
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Dịch vụ vệ sinh công nghiệp",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Vệ sinh văn phòng"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Vệ sinh nhà xưởng"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Vệ sinh khách sạn"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Giặt thảm sofa"
            }
          }
        ]
      }
    }
    </script>
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  </head>
  <body class="bg-white text-gray-dark">
    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-sm">
      <nav class="container-custom px-4 py-4">
        <div class="flex items-center justify-between">
          <!-- Logo -->
          <Logo size="lg" />
          
          <!-- Desktop Navigation -->
          <div class="hidden lg:flex items-center space-x-8">
            <a href="/" class="nav-link">Trang chủ</a>
            <a href="/gioi-thieu" class="nav-link">Giới thiệu</a>
            <div class="relative group">
              <button 
                class="nav-link flex items-center space-x-1"
                aria-label="Mở menu dịch vụ"
                aria-expanded="false"
                aria-haspopup="true"
              >
                <span>Dịch vụ</span>
                <i class="fas fa-chevron-down text-xs" aria-hidden="true"></i>
              </button>
              <div class="absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300">
                <div class="py-2">
                  <a href="/tap-vu-dinh-ky" class="block px-4 py-2 text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors">Tạp vụ định kỳ</a>
                  <a href="/tong-ve-sinh" class="block px-4 py-2 text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors">Tổng vệ sinh</a>
                  <a href="/giat-tham-sofa" class="block px-4 py-2 text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors">Giặt thảm, sofa, ghế</a>
                </div>
              </div>
            </div>
            <a href="/tin-tuc" class="nav-link">Tin tức</a>
            <a href="/lien-he" class="nav-link">Liên hệ</a>
          </div>
          
          <!-- Search and Mobile Menu -->
          <div class="flex items-center space-x-4">
            <!-- Search Button -->
            <button 
              class="p-2 text-gray-600 hover:text-primary transition-colors" 
              id="searchBtn"
              aria-label="Tìm kiếm bài viết"
              title="Tìm kiếm bài viết"
            >
              <i class="fas fa-search" aria-hidden="true"></i>
            </button>
            
            <!-- Mobile Menu Button -->
            <button 
              class="lg:hidden p-2 text-gray-600 hover:text-primary transition-colors" 
              id="mobileMenuBtn"
              aria-label="Mở menu di động"
              aria-expanded="false"
              aria-controls="mobileMenu"
              title="Mở menu di động"
            >
              <i class="fas fa-bars" aria-hidden="true"></i>
            </button>
            
            <!-- Contact Buttons -->
            <div class="hidden sm:flex items-center space-x-2">
              <a href="tel:0123456789" class="btn-primary text-sm px-4 py-2">
                <i class="fas fa-phone mr-1"></i>
                Gọi ngay
              </a>
            </div>
          </div>
        </div>
        
        <!-- Mobile Menu -->
        <div class="lg:hidden hidden" id="mobileMenu">
          <div class="py-4 space-y-4 border-t border-gray-200 mt-4">
            <a href="/" class="block py-2 text-gray-700 hover:text-primary transition-colors">Trang chủ</a>
            <a href="/gioi-thieu" class="block py-2 text-gray-700 hover:text-primary transition-colors">Giới thiệu</a>
            <div class="space-y-2">
              <div class="font-medium text-gray-900">Dịch vụ</div>
              <a href="/tap-vu-dinh-ky" class="block py-2 pl-4 text-gray-700 hover:text-primary transition-colors">Tạp vụ định kỳ</a>
              <a href="/tong-ve-sinh" class="block py-2 pl-4 text-gray-700 hover:text-primary transition-colors">Tổng vệ sinh</a>
              <a href="/giat-tham-sofa" class="block py-2 pl-4 text-gray-700 hover:text-primary transition-colors">Giặt thảm, sofa, ghế</a>
            </div>
            <a href="/tin-tuc" class="block py-2 text-gray-700 hover:text-primary transition-colors">Tin tức</a>
            <a href="/lien-he" class="block py-2 text-gray-700 hover:text-primary transition-colors">Liên hệ</a>
          </div>
        </div>
      </nav>
    </header>

    <!-- Search Modal -->
    <div class="fixed inset-0 bg-black/50 z-50 hidden" id="searchModal">
      <div class="flex items-center justify-center min-h-screen p-4">
        <div class="bg-white rounded-lg w-full max-w-2xl p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold">Tìm kiếm bài viết</h3>
            <button 
              class="text-gray-500 hover:text-gray-700" 
              id="closeSearchBtn"
              aria-label="Đóng tìm kiếm"
              title="Đóng tìm kiếm"
            >
              <i class="fas fa-times" aria-hidden="true"></i>
            </button>
          </div>
          <div class="relative">
            <input 
              type="text" 
              placeholder="Nhập từ khóa tìm kiếm..." 
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
              id="searchInput"
            >
            <button 
              class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-primary"
              type="submit"
              aria-label="Tìm kiếm"
              title="Tìm kiếm"
            >
              <i class="fas fa-search" aria-hidden="true"></i>
            </button>
          </div>
          <div id="searchResults" class="mt-4 max-h-96 overflow-y-auto"></div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <main class="pt-20">
      <slot />
    </main>

    <!-- Floating Contact Buttons -->
    <div class="fixed bottom-6 right-6 z-40 space-y-3">
      <!-- Zalo Button -->
      <a href="https://zalo.me/0123456789" target="_blank" rel="noopener noreferrer" 
         class="block w-14 h-14 bg-blue-500 text-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform animate-pulse-gentle"
         aria-label="Liên hệ qua Zalo"
         title="Liên hệ qua Zalo">
        <img src={'/icons/zalo.webp'} alt="Zalo" class="w-10 h-10" />
      </a>
      
      <!-- Phone Button -->
      <a href="tel:0123456789" 
         class="block w-14 h-14 bg-primary text-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform animate-bounce-gentle"
         aria-label="Gọi điện thoại"
         title="Gọi điện thoại">
        <i class="fas fa-phone text-xl" aria-hidden="true"></i>
      </a>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-dark text-white">
      <div class="container-custom section-padding">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <!-- Company Info -->
          <div class="space-y-4">
           <Logo size="lg" textClassName='text-white'/>
            <p class="text-gray-300">
              Dịch vụ vệ sinh công nghiệp chuyên nghiệp, uy tín hàng đầu với hơn 10 năm kinh nghiệm.
            </p>
            <div class="flex space-x-4">
              <a href="#" class="text-gray-300 hover:text-white transition-colors" aria-label="Facebook">
                <i class="fab fa-facebook text-xl" aria-hidden="true"></i>
              </a>
              <a href="#" class="text-gray-300 hover:text-white transition-colors" aria-label="YouTube">
                <i class="fab fa-youtube text-xl" aria-hidden="true"></i>
              </a>
              <a href="#" class="text-gray-300 hover:text-white transition-colors" aria-label="TikTok">
                <i class="fab fa-tiktok text-xl" aria-hidden="true"></i>
              </a>
            </div>
          </div>
          
          <!-- Services -->
          <div>
            <h3 class="text-lg font-semibold mb-4">Dịch vụ</h3>
            <ul class="space-y-2">
              <li><a href="/tap-vu-dinh-ky" class="text-gray-300 hover:text-white transition-colors">Tạp vụ định kỳ</a></li>
              <li><a href="/tong-ve-sinh" class="text-gray-300 hover:text-white transition-colors">Tổng vệ sinh</a></li>
              <li><a href="/giat-tham-sofa" class="text-gray-300 hover:text-white transition-colors">Giặt thảm, sofa, ghế</a></li>
              <li><a href="/ve-sinh-cong-nghiep" class="text-gray-300 hover:text-white transition-colors">Vệ sinh công nghiệp</a></li>
            </ul>
          </div>
          
          <!-- Quick Links -->
          <div>
            <h3 class="text-lg font-semibold mb-4">Liên kết</h3>
            <ul class="space-y-2">
              <li><a href="/gioi-thieu" class="text-gray-300 hover:text-white transition-colors">Giới thiệu</a></li>
              <li><a href="/tin-tuc" class="text-gray-300 hover:text-white transition-colors">Tin tức</a></li>
              <li><a href="/lien-he" class="text-gray-300 hover:text-white transition-colors">Liên hệ</a></li>
              <li><a href="/chinh-sach" class="text-gray-300 hover:text-white transition-colors">Chính sách</a></li>
            </ul>
          </div>
          
          <!-- Contact Info -->
          <div>
            <h3 class="text-lg font-semibold mb-4">Liên hệ</h3>
            <div class="space-y-3">
              <div class="flex items-center space-x-3">
                <i class="fas fa-map-marker-alt text-primary" aria-hidden="true"></i>
                <span class="text-gray-300">123 Đường ABC, Rạch Giá, Kiên Giang</span>
              </div>
              <div class="flex items-center space-x-3">
                <i class="fas fa-phone text-primary" aria-hidden="true"></i>
                <span class="text-gray-300">0123 456 789</span>
              </div>
              <div class="flex items-center space-x-3">
                <i class="fas fa-envelope text-primary" aria-hidden="true"></i>
                <span class="text-gray-300">info@5sclean.com</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="border-t border-gray-700 mt-8 pt-8 text-center">
          <p class="text-gray-300">
            © 2025 5S Clean. Tất cả quyền được bảo lưu.
          </p>
        </div>
      </div>
    </footer>

    <style>
		@reference "../styles/global.css";
      .nav-link {
        @apply text-gray-700 hover:text-primary transition-colors font-medium;
      }
    </style>

    <script>
      // Mobile Menu Toggle
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      
      mobileMenuBtn?.addEventListener('click', () => {
        const isHidden = mobileMenu?.classList.contains('hidden');
        mobileMenu?.classList.toggle('hidden');
        
        // Update ARIA attributes for accessibility
        if (mobileMenuBtn) {
          mobileMenuBtn.setAttribute('aria-expanded', (!isHidden).toString());
        }
      });
      
      // Search Modal Toggle
      const searchBtn = document.getElementById('searchBtn');
      const searchModal = document.getElementById('searchModal');
      const closeSearchBtn = document.getElementById('closeSearchBtn');
      const searchInput = document.getElementById('searchInput');
      
      searchBtn?.addEventListener('click', () => {
        searchModal?.classList.remove('hidden');
        searchInput?.focus();
      });
      
      closeSearchBtn?.addEventListener('click', () => {
        searchModal?.classList.add('hidden');
      });
      
      // Close modal when clicking outside
      searchModal?.addEventListener('click', (e) => {
        if (e.target === searchModal) {
          searchModal.classList.add('hidden');
        }
      });
      
      // Search functionality
      searchInput?.addEventListener('input', (e) => {
        const target = e.target as HTMLInputElement;
        const query = target.value;
        const searchResults = document.getElementById('searchResults');
        
        if (query.length > 2 && searchResults) {
          // Here you would typically make an API call to search
          // For now, we'll show a placeholder
          searchResults.innerHTML = `
            <div class="text-gray-500 text-center py-4">
              Đang tìm kiếm: "${query}"
            </div>
          `;
        } else if (searchResults) {
          searchResults.innerHTML = '';
        }
      });
    </script>
  </body>
</html>
